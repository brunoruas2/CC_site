"use strict";(self.webpackChunkciencia_computacao=self.webpackChunkciencia_computacao||[]).push([[4345],{94930:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"202601260926","title":"Exemplo de Singleton","description":"C\xf3digo","source":"@site/zettel/202601260926.mdx","sourceDirName":".","slug":"/202601260926","permalink":"/CC_site/zettel/202601260926","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"DesignPattern","permalink":"/CC_site/zettel/tags/design-pattern"}],"version":"current","frontMatter":{"title":"Exemplo de Singleton","sidebar_label":"202601260926 - Exemplo de Singleton","tags":["DesignPattern"],"date":"2026-01-26T00:00:00.000Z"},"sidebar":"zettelSidebar","previous":{"title":"202601262328 - Patterns - Builder","permalink":"/CC_site/zettel/202601262328"},"next":{"title":"202601172300 - Como gerar diagramas PlantUML","permalink":"/CC_site/zettel/202601172300"}}');var a=n(74848),s=n(28453);const i={title:"Exemplo de Singleton",sidebar_label:"202601260926 - Exemplo de Singleton",tags:["DesignPattern"],date:new Date("2026-01-26T00:00:00.000Z")},o="Exemplo de Singleton",l={},c=[{value:"Refer\xeancias",id:"refer\xeancias",level:2}];function d(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"exemplo-de-singleton",children:"Exemplo de Singleton"})}),"\n",(0,a.jsx)(e.p,{children:"C\xf3digo"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",children:'// prograrm da aplicacao usando multithread\r\nclass Program\r\n{\r\n\tstatic void Main(string[] args)\r\n\t{\r\n\t\t// The client code.\r\n\t\t\r\n\t\tConsole.WriteLine(\r\n\t\t\t"{0}\\n{1}\\n\\n{2}\\n",\r\n\t\t\t"If you see the same value, then singleton was reused (yay!)",\r\n\t\t\t"If you see different values, then 2 singletons were created (booo!!)",\r\n\t\t\t"RESULT:"\r\n\t\t);\r\n\t\t\r\n\t\tThread process1 = new Thread(() =>\r\n\t\t{\r\n\t\t\tTestSingleton("FOO");\r\n\t\t});\r\n\t\tThread process2 = new Thread(() =>\r\n\t\t{\r\n\t\t\tTestSingleton("BAR");\r\n\t\t});\r\n\t\t\r\n\t\tprocess1.Start();\r\n\t\tprocess2.Start();\r\n\t\t\r\n\t\tprocess1.Join();\r\n\t\tprocess2.Join();\r\n\t}\r\n\t\r\n\tpublic static void TestSingleton(string value)\r\n\t{\r\n\t\tSingleton singleton = Singleton.GetInstance(value);\r\n\t\tConsole.WriteLine(singleton.Value);\r\n\t} \r\n}\r\n\r\n// classe singleton capaz de avaliar se ja existe uma instancia criada para retornar sempre a mesma\r\nclass Singleton\r\n{\r\n\tprivate Singleton() { } // construtor privado\r\n\r\n\tprivate static Singleton _instance; // objeto static que sera retornado\r\n\r\n\tprivate static readonly object _lock = new object(); // lock para sincronizar threads em paralelo\r\n\r\n\t// metodo responsavel pelo retorno do objeto assegurando que so teremos um caso sempre\r\n\tpublic static Singleton GetInstance(string value)\r\n\t{\r\n\t\tif (_instance == null)\r\n\t\t{\r\n\t\t\tlock (_lock) // essa trava garante que a primeira thread vai criar o obj e as outras vao esperar o lock\r\n\t\t\t{\r\n\t\t\t\tif (_instance == null) // segundo check no obj porque as outras threads ficaram esperando a primeira terminar\r\n\t\t\t\t{\r\n\t\t\t\t\t_instance = new Singleton();\r\n\t\t\t\t\t_instance.Value = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _instance;\r\n\t}\r\n\r\n\tpublic string Value { get; set; }\r\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"refer\xeancias",children:"Refer\xeancias"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"https://refactoring.guru/design-patterns/singleton/csharp/example#example-1",children:"https://refactoring.guru/design-patterns/singleton/csharp/example#example-1"})}),"\n"]})]})}function p(t={}){const{wrapper:e}={...(0,s.R)(),...t.components};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(d,{...t})}):d(t)}},28453:(t,e,n)=>{n.d(e,{R:()=>i,x:()=>o});var r=n(96540);const a={},s=r.createContext(a);function i(t){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function o(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(a):t.components||a:i(t.components),r.createElement(s.Provider,{value:e},t.children)}}}]);