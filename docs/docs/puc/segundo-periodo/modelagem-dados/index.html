<!doctype html>
<html lang="pt" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-puc/segundo-periodo/modelagem-dados" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Modelagem de Dados | Ci√™ncia da Computa√ß√£o</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://brunoruas2.github.io/CC_site/img/siteIcon.png"><meta data-rh="true" name="twitter:image" content="https://brunoruas2.github.io/CC_site/img/siteIcon.png"><meta data-rh="true" property="og:url" content="https://brunoruas2.github.io/CC_site/docs/puc/segundo-periodo/modelagem-dados"><meta data-rh="true" property="og:locale" content="pt"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Modelagem de Dados | Ci√™ncia da Computa√ß√£o"><link data-rh="true" rel="icon" href="/CC_site/img/siteIcon.png"><link data-rh="true" rel="canonical" href="https://brunoruas2.github.io/CC_site/docs/puc/segundo-periodo/modelagem-dados"><link data-rh="true" rel="alternate" href="https://brunoruas2.github.io/CC_site/docs/puc/segundo-periodo/modelagem-dados" hreflang="pt"><link data-rh="true" rel="alternate" href="https://brunoruas2.github.io/CC_site/docs/puc/segundo-periodo/modelagem-dados" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/CC_site/blog/rss.xml" title="Ci√™ncia da Computa√ß√£o RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/CC_site/blog/atom.xml" title="Ci√™ncia da Computa√ß√£o Atom Feed">






<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/CC_site/assets/css/styles.584ee1be.css">
<script src="/CC_site/assets/js/runtime~main.cee4b367.js" defer="defer"></script>
<script src="/CC_site/assets/js/main.af4a1319.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Pular para o conte√∫do principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conte√∫do principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar a barra de navega√ß√£o" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/CC_site/"><div class="navbar__logo"><img src="/CC_site/img/siteIcon.png" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/CC_site/img/siteIcon.png" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ci√™ncia da Computa√ß√£o</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/CC_site/docs/intro">Mat√©rias</a><a class="navbar__item navbar__link" href="/CC_site/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/brunoruas2/ciencia_computacao" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-label="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volte para o topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/CC_site/docs/intro">Bem Vindo(a)!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/CC_site/docs/category/tecn√≥logo-puc-mg">Tecn√≥logo PUC-MG</a><button aria-label="Fechar a categoria lateral &#x27;Tecn√≥logo PUC-MG&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/CC_site/docs/puc/intro">Sobre o Tecn√≥logo PUC-MG</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/CC_site/docs/category/primeiro-per√≠odo">Primeiro Per√≠odo</a><button aria-label="Expandir a categoria lateral &#x27;Primeiro Per√≠odo&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/CC_site/docs/category/segundo-per√≠odo">Segundo Per√≠odo</a><button aria-label="Fechar a categoria lateral &#x27;Segundo Per√≠odo&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CC_site/docs/puc/segundo-periodo/algoritmo-estrutura-dados">Algoritmo e Estrutura de Dados</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CC_site/docs/puc/segundo-periodo/engenharia-requisitos">Engenharia de Requisitos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CC_site/docs/puc/segundo-periodo/design-interacao">Design de Intera√ß√£o</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CC_site/docs/puc/segundo-periodo/programacao-modular">Programa√ß√£o Modular</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CC_site/docs/puc/segundo-periodo/desenvolvimento-web-backend">Desenvolvimento Web Backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/CC_site/docs/puc/segundo-periodo/modelagem-dados">Modelagem de Dados</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CC_site/docs/puc/segundo-periodo/redes-computadores">Redes de Computadores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CC_site/docs/puc/segundo-periodo/modelagem-sql">Modelagem de Dados com SQL</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/CC_site/docs/category/terceiro-per√≠odo">Terceiro Per√≠odo</a><button aria-label="Expandir a categoria lateral &#x27;Terceiro Per√≠odo&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/CC_site/docs/category/quarto-per√≠odo">Quarto Per√≠odo</a><button aria-label="Expandir a categoria lateral &#x27;Quarto Per√≠odo&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/CC_site/docs/category/quinto-per√≠odo">Quinto Per√≠odo</a><button aria-label="Expandir a categoria lateral &#x27;Quinto Per√≠odo&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/CC_site/docs/category/notas-de-estudo">Notas de Estudo</a><button aria-label="Expandir a categoria lateral &#x27;Notas de Estudo&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/CC_site/docs/backlog">Tickets</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/CC_site/docs/category/tutorial-docusaurus">Tutorial Docusaurus</a><button aria-label="Expandir a categoria lateral &#x27;Tutorial Docusaurus&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/CC_site/docs/category/archive">Archive</a><button aria-label="Expandir a categoria lateral &#x27;Archive&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="P√°gina Inicial" class="breadcrumbs__link" href="/CC_site/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/CC_site/docs/category/tecn√≥logo-puc-mg"><span itemprop="name">Tecn√≥logo PUC-MG</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/CC_site/docs/category/segundo-per√≠odo"><span itemprop="name">Segundo Per√≠odo</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Modelagem de Dados</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Nessa p√°gina</button></div><div class="theme-doc-markdown markdown"><header><h1>Modelagem de Dados</h1></header>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Aula em Elabora√ß√£o</div><div class="admonitionContent_BuS1"><p>Infelizmente eu ainda n√£o terminei esse material. Voc√™ pode aproveitar para ir vendo os outros conte√∫dos enquanto isso! üòú</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="projeto-de-banco-de-dados">Projeto de Banco de Dados<a href="#projeto-de-banco-de-dados" class="hash-link" aria-label="Link direto para Projeto de Banco de Dados" title="Link direto para Projeto de Banco de Dados">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fundamentos-de-banco-de-dados">Fundamentos de Banco de Dados<a href="#fundamentos-de-banco-de-dados" class="hash-link" aria-label="Link direto para Fundamentos de Banco de Dados" title="Link direto para Fundamentos de Banco de Dados">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="abordagem-de-arquivos-x-banco-de-dados">Abordagem de Arquivos x Banco de Dados<a href="#abordagem-de-arquivos-x-banco-de-dados" class="hash-link" aria-label="Link direto para Abordagem de Arquivos x Banco de Dados" title="Link direto para Abordagem de Arquivos x Banco de Dados">‚Äã</a></h4>
<p>Podemos definir um <strong>banco de dados</strong> como:</p>
<blockquote>
<p>Uma cole√ß√£o de dados relacionados, persistentes<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup> [...] que tem por objetivo atender uma comunidade de usu√°rios.</p>
</blockquote>
<p>Dessa feita, podemos ver que <em>antes</em> de modelar e projetar nosso banco, temos que ter em mente o prop√≥sito de uso e sua real necessidade.</p>
<p>Outro conceito muito pr√≥ximo √© o de <strong>Sistema Gerenciador de Banco de Dados (SGBD):</strong></p>
<blockquote>
<p>Um software que incorpora as fun√ß√µes de defini√ß√µes, recupera√ß√£o e altera√ß√£o de dados em um BD</p>
</blockquote>
<p>Ou seja, <strong>Banco de dados</strong> √© um conceito com foco no <strong>conte√∫do</strong>. Enquanto, <strong>SGBD</strong> √© um conceito com foco na <strong>tecnologia</strong> que vai manipular o conte√∫do armazenado (ex: MySQL, MSSQL, Firebird e etc).</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="o-passado">O Passado<a href="#o-passado" class="hash-link" aria-label="Link direto para O Passado" title="Link direto para O Passado">‚Äã</a></h5>
<p>Mas nem sempre existiu a abordagem de banco de dados. Antigamente, cada programa precisava ser respons√°vel pelos pr√≥prios arquivos que persistiam as informa√ß√µes.</p>
<p>O modo de persistir dados era com <strong>enfoque de arquivos</strong>. Onde meio que tudo era salvo em plain text ou algum formato de texto estruturado como um <code>csv</code> da vida e os sistemas tinham que trabalhar com isso.</p>
<p>Desse modo, era praticamente imposs√≠vel intercambiar informa√ß√µes entre aplica√ß√µes porque n√£o se tinha um template geral para consulta e persist√™ncia dos dados.</p>
<p>Isso gerava a necessidade de cada aplica√ß√£o ter sua pr√≥pria base (mesmo que a informa√ß√£o fosse comum √† v√°rios setores). Agora, imagine que existam 3 tabelas <code>produto</code> e que o valor de venda dele foi alterado. Existe uma chance real que algum time simplesmente esque√ßa de atualizar em uma das r√©plicas o que poderia causa graves preju√≠zos √† empresa.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tipos-de-linguagens-e-tipos-de-profissionais">Tipos de Linguagens e Tipos de Profissionais<a href="#tipos-de-linguagens-e-tipos-de-profissionais" class="hash-link" aria-label="Link direto para Tipos de Linguagens e Tipos de Profissionais" title="Link direto para Tipos de Linguagens e Tipos de Profissionais">‚Äã</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="linguagens-ddl-e-dml">Linguagens DDL E DML<a href="#linguagens-ddl-e-dml" class="hash-link" aria-label="Link direto para Linguagens DDL E DML" title="Link direto para Linguagens DDL E DML">‚Äã</a></h5>
<p>J√° vimos que um banco de dados √© relacionado ao conte√∫do que ser√° persistido para consulta posterior. Dessa feita, como tudo em tecnologia, precisamos de uma <code>linguagem</code> para interagir com o SGBD afim de criarmos as defini√ß√µes dos dados e manipular o que tivermos salvo.</p>
<p>Existem 2 tipos de linguagens que usamos para essa tarefa:</p>
<ul>
<li><strong>DDL (Data Definition Language)</strong>: Usada para criar tabelas, criar vis√µes, definir rela√ß√µes entre elas e as caracter√≠sticas de cada valor.</li>
<li><strong>DML (Data Manipulation Language)</strong>: Muito mais usada na pr√°tica di√°ria. √â respons√°vel por manipular (select, insert, delete, update) os dados persistidos. Pode ser de 2 tipos.<!-- -->
<ul>
<li><strong>Procedural</strong>: Onde o user define qual dado ser√° acessado e como chegar nele. Mais usados em triggers e rotinas autom√°ticas.</li>
<li><strong>N√£o Procedural</strong>: Onde define apenas qual dado acessar.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>Ao longo dos estudos vamos nos deparar com um conceito chamado <code>stored procedure</code> e √© exatamente isso que acabamos de ver acima.</p></div></div>
<p>Para aprofundar um pouco mais, abaixo temos dois exemplos de DML.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* DML Procedural */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">BEGIN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">DECLARE</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@EmployeeName</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">DECLARE</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@EmployeeId</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">101</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@EmployeeName</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> Employees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> EmployeeID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@EmployeeId</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">PRINT</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@EmployeeName</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">END</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* DML N√£o Procedural */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> Employees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> EmployeeID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">101</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Podemos ver que na DML n√£o procedural, deixamos a cargo do motor da linguagem julgar qual melhor rota para acessar as informa√ß√µes que solicitamos<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="principais-atuantes-em-um-projeto-de-bd">Principais atuantes em um projeto de BD<a href="#principais-atuantes-em-um-projeto-de-bd" class="hash-link" aria-label="Link direto para Principais atuantes em um projeto de BD" title="Link direto para Principais atuantes em um projeto de BD">‚Äã</a></h5>
<p>Como pap√©is principais em um projeto de banco de dados, podemos destacar:</p>
<ul>
<li>Administrador de Dados (AD)<!-- -->
<ul>
<li>Arquiteta a estrutura de informa√ß√£o da empresa</li>
<li>Administra a descri√ß√£o da base de dados<sup><a href="#user-content-fn-3" id="user-content-fnref-3" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup></li>
<li>Define padr√µes de codifica√ß√£o (template de nome de tabela, campos e etc)</li>
<li>Profundo conhecedor das regras de neg√≥cio</li>
</ul>
</li>
<li>Administrador de Banco de Dados (DBA)<!-- -->
<ul>
<li>Foco na otimiza√ß√£o e performance</li>
<li>Gerencia o SGBD</li>
<li>√â respons√°vel pela estrutura de armazenamento (migrations, carga de dados e etc)</li>
</ul>
</li>
<li>Analista de Sistemas/Engenheiro de Software/Desenvolvedor<!-- -->
<ul>
<li>Constr√≥i solu√ß√µes que consomem o SGBD</li>
<li>Deve procurar otimizar suas <code>queries</code> de modo a sempre custar pouco para o processamento do SGBD</li>
</ul>
</li>
<li>Usu√°rio Final<!-- -->
<ul>
<li>Podem ser tanto no n√≠vel operacional quanto gerencial</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="n√≠veis-do-sgbd-e-etapas-do-projeto-de-bd">N√≠veis do SGBD e Etapas do Projeto de BD<a href="#n√≠veis-do-sgbd-e-etapas-do-projeto-de-bd" class="hash-link" aria-label="Link direto para N√≠veis do SGBD e Etapas do Projeto de BD" title="Link direto para N√≠veis do SGBD e Etapas do Projeto de BD">‚Äã</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="n√≠veis-do-sgbd">N√≠veis do SGBD<a href="#n√≠veis-do-sgbd" class="hash-link" aria-label="Link direto para N√≠veis do SGBD" title="Link direto para N√≠veis do SGBD">‚Äã</a></h4>
<p>Um SGBD pode ser divido em 3 n√≠veis de abstra√ß√£o:</p>
<ol>
<li><strong>N√≠vel Interno/F√≠sico</strong>
<ul>
<li>Atua√ß√£o do DBA com foco no <strong>como</strong> os dados s√£o armazenados em disco e como melhorar a <strong>performance</strong> de acesso aos mesmos.</li>
</ul>
</li>
<li><strong>N√≠vel Conceitual/L√≥gico</strong>
<ul>
<li>Atua√ß√£o do DA com foco em <strong>quais</strong> dados s√£o salvos no BD e seus relacionamentos.</li>
</ul>
</li>
<li><strong>N√≠vel Externo/Vis√£o</strong>
<ul>
<li>Atua√ß√£o de Devs e Users com objetivo de <strong>acessar</strong> os dados dispon√≠veis. Sempre sendo necess√°rio apenas uma parte do todo.</li>
</ul>
</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Info</div><div class="admonitionContent_BuS1"><p>Abaixo temos dois conceitos derivados desses que acabamos de ver. Hoje em dia, podem parecer simples mas, no passado, a separa√ß√£o entre camadas f√≠sicas e l√≥gicas eram bem menor do que hoje em dia.</p></div></div>
<blockquote>
<p><strong>Independ√™ncia F√≠sica</strong>: Quando altera√ß√µes na camada f√≠sica n√£o impactam a camada l√≥gica.<sup><a href="#user-content-fn-4" id="user-content-fnref-4" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup></p>
</blockquote>
<blockquote>
<p><strong>Independ√™ncia L√≥gica</strong>: Quando altera√ß√µes na camada l√≥gica n√£o impactam a camada f√≠sica.</p>
</blockquote>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="etapas-de-um-projeto-de-bd">Etapas de um Projeto de BD<a href="#etapas-de-um-projeto-de-bd" class="hash-link" aria-label="Link direto para Etapas de um Projeto de BD" title="Link direto para Etapas de um Projeto de BD">‚Äã</a></h5>
<p>Tal qual as etapas, durante a elabora√ß√£o de um projeto de BD temos um estudo para cada camada, ou seja:</p>
<ol>
<li><strong>Projeto Conceitual</strong>
<ul>
<li>Foco na informa√ß√£o, independente da implementa√ß√£o do SGBD.</li>
<li>Defini√ß√£o dos tipos e das rela√ß√µes.</li>
<li>Cria√ß√£o dos Modelos de Entidade-Relacionamento (MER).</li>
</ul>
</li>
<li><strong>Projeto L√≥gico</strong>
<ul>
<li>√â nessa etapa que temos a defini√ß√£o das tabelas, rela√ß√µes de campos e chaves.</li>
<li>Etapa onde √© escolhido a classe do SGBD (Relacional, NoSQL, Redes e etc).</li>
</ul>
</li>
<li><strong>Projeto F√≠sico</strong>
<ul>
<li>Implementa√ß√£o real no hardware.</li>
<li>Defini√ß√£o do SGBD propriamente dito (Oracle, MySQL, MSSQL, MariaDB e etc)</li>
<li>Quanto de recursos precisar√£o ser alocados bem como as pol√≠ticas de backup.</li>
<li>Cria√ß√£o dos Perfis de acesso.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modelagem-de-entidades-e-relacionamentos-mer">Modelagem de Entidades e Relacionamentos (MER)<a href="#modelagem-de-entidades-e-relacionamentos-mer" class="hash-link" aria-label="Link direto para Modelagem de Entidades e Relacionamentos (MER)" title="Link direto para Modelagem de Entidades e Relacionamentos (MER)">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="modelagem-de-entidades-e-atributos">Modelagem de Entidades e Atributos<a href="#modelagem-de-entidades-e-atributos" class="hash-link" aria-label="Link direto para Modelagem de Entidades e Atributos" title="Link direto para Modelagem de Entidades e Atributos">‚Äã</a></h4>
<p>Agora que sabemos os profissionais e os tipos de projetos de banco de dados, vamos entrar na teoria sobre a modelagem de dados propriamente dita.</p>
<blockquote>
<p>Podemos conceituar a <strong>Modelagem de Dados</strong> como a convers√£o de fatos relevantes em <em>estruturas bem definidas</em> com <em>regras de depend√™ncia</em> expressas em um <em>modelo gr√°fico e descritivo</em>.</p>
</blockquote>
<p>O foco aqui √© em <strong>quais</strong> dados existir√£o no banco de dados, independente de <strong>como</strong> eles ser√£o armazenados no SGBD.</p>
<p>Um dos modelos conceituais<sup><a href="#user-content-fn-5" id="user-content-fnref-5" data-footnote-ref="true" aria-describedby="footnote-label">5</a></sup> mais usados √© o <strong>Modelo Entidade-Relacionamento (MER)</strong>. Essa t√©cnica permite demonstrar facilmente a rela√ß√£o descrita acima por meio de representa√ß√µes gr√°ficas simples entre as entidades.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="diferentes-tipos-de-nota√ß√£o">Diferentes tipos de nota√ß√£o<a href="#diferentes-tipos-de-nota√ß√£o" class="hash-link" aria-label="Link direto para Diferentes tipos de nota√ß√£o" title="Link direto para Diferentes tipos de nota√ß√£o">‚Äã</a></h5>
<p>No material did√°tico dessa disciplina usamos a nota√ß√£o de Peter Chen como base. Entretanto, eu tenho um motor de gera√ß√£o de diagramas nativo na biblioteca que uso para construir esse site que segue a nota√ß√£o de <a href="https://www.conceptdraw.com/examples/the-crow%E2%80%99s-foot-erd" target="_blank" rel="noopener noreferrer">James Martin</a>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Aten√ß√£o</div><div class="admonitionContent_BuS1"><p>A nota√ß√£o de James Martin tem alguns apelidos como &quot;IE Notation&quot; ou ainda &quot;Crow&#x27;s Foot Notation&quot;.</p></div></div>
<p>O importante √© sempre entender a l√≥gica geral. Nesse <a href="https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model" target="_blank" rel="noopener noreferrer">artigo da wikip√©dia</a> temos um exemplo de como podemos mostrar uma mesma rela√ß√£o de diferentes modos.</p>
<p><img decoding="async" loading="lazy" alt="diferentes-ER" src="/CC_site/assets/images/94-modelos-er-1d463d2fd5df4291155885eb3039bece.png" width="480" height="759" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Dica</div><div class="admonitionContent_BuS1"><p>Existem v√°rias ferramentas para escrever esses tipos de diagramas. Aqui, eu vou usar a <code>Mermaid</code> <a href="https://mermaid.js.org/syntax/entityRelationshipDiagram.html" target="_blank" rel="noopener noreferrer">Link da documenta√ß√£o</a>.</p></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="entidades-e-atributos-no-mer">Entidades e Atributos no MER<a href="#entidades-e-atributos-no-mer" class="hash-link" aria-label="Link direto para Entidades e Atributos no MER" title="Link direto para Entidades e Atributos no MER">‚Äã</a></h5>
<blockquote>
<p><strong>Entidades</strong> s√£o objetos do mundo real ou abstra√ß√µes de informa√ß√£o.</p>
</blockquote>
<blockquote>
<p><strong>Atributos</strong> s√£o elementos que identificam as entidades e descrevem suas caracter√≠sticas.</p>
</blockquote>
<p>Atributos podem ser de v√°rios tipo, para nomear alguns:</p>
<ul>
<li>Simples: CPF, Altura, Pre√ßo.</li>
<li>Compostos: Compostos por partes, como Telefone = Pa√≠s + DDD + Numero.</li>
<li>Monovalorados: Recebem 1 valor por entidade.</li>
<li>Multivalorados: V√°rios valores por entidade.</li>
<li>Derivados: IMC que √© uma fun√ß√£o da altura e peso.</li>
<li>Chave: Valores distintos que podem ser usados para identificar as entidades.</li>
</ul>
<p>Abaixo eu coloco um exemplo de entidade no modelo Crow&#x27;s foot onde podemos ver que os atributos s√£o definidos por tipo, nome e se √© primary key no pr√≥prio ret√¢ngulo da entidade. Na nota√ß√£o de Chen eles s√£o elipses ligadas √† entidade.</p>
<!-- -->
<p>Para simplificar nosso material, eu vou omitir nas entidades os atributos sempre que poss√≠vel assim cada entidade vai ser representada apenas por um ret√¢ngulo com o nome. Mas lembre-se que na hora de fazer um MER de verdade as entidades devem estar sempre com seus atributos.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Aten√ß√£o</div><div class="admonitionContent_BuS1"><p>O conceito de atributo composto s√≥ se aplica ao modelo de Chen. No modelo de James n√≥s somos obrigados a simplificar a nota√ß√£o para atributos simples (o que facilita a etapa de mapeamento em tabelas).</p><p>O conceito de atributo multivalorado tamb√©m se aplica somente ao modelo de Chen. No modelo de James n√≥s somos obrigados a converter atributos multivalorados em uma nova entidade e criar uma liga√ß√£o entre elas.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="modelagem-de-relacionamentos">Modelagem de Relacionamentos<a href="#modelagem-de-relacionamentos" class="hash-link" aria-label="Link direto para Modelagem de Relacionamentos" title="Link direto para Modelagem de Relacionamentos">‚Äã</a></h4>
<p>Alguns conceitos importantes para a modelagem de relacionamentos:</p>
<blockquote>
<p><strong>Relacionamento</strong> √© qualquer associa√ß√£o com significado entre uma ou v√°rias entidades</p>
</blockquote>
<blockquote>
<p><strong>Cardinalidade</strong> √© a propriedade do relacionamento que expressa a quantidade de ocorr√™ncias. Por exemplo, 1-1, 1-n, n-n e etc.</p>
</blockquote>
<blockquote>
<p><strong>Totalidade</strong> √© a especifica√ß√£o da condi√ß√£o de exist√™ncia entre classes de modo que uma s√≥ pode existir se o relacionamento com outra existe. Pode ser <strong>parcial/opcional</strong> ou <strong>total/obrigat√≥ria</strong><sup><a href="#user-content-fn-6" id="user-content-fnref-6" data-footnote-ref="true" aria-describedby="footnote-label">6</a></sup>.</p>
</blockquote>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>N√£o sei voc√™, mas, pra mim &quot;totalidade total&quot; √© um nome bem ruim pra um conceito. Dessa feita, vou usar o termo &quot;totalidade obrigat√≥ria&quot; sempre que for me referir a essa propriedade.</p></div></div>
<!-- -->
<p>N√≥s lemos esse diagrama acima da seguinte forma: Um departamento pode possuir entre 0 a N empregados. Similarmente, qualquer empregado s√≥ pode pertencer a um √∫nico departamento.</p>
<p>Mais um exemplo dado no curso:</p>
<!-- -->
<p>Nesse segundo exemplo n√≥s temos um esquema b√°sico de uma faculdade. Podemos ver que um <code>departamento</code> pode ofertar N <code>materias</code> e essas mat√©rias podem ser ofertada em N <code>turmas</code>. Um aluno, por sua vez, s√≥ pode pertencer a 1 √∫nico curso.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="modelo-de-entidades-e-relacionamentos-estendido">Modelo de Entidades e Relacionamentos Estendido<a href="#modelo-de-entidades-e-relacionamentos-estendido" class="hash-link" aria-label="Link direto para Modelo de Entidades e Relacionamentos Estendido" title="Link direto para Modelo de Entidades e Relacionamentos Estendido">‚Äã</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="entidades-fracas-e-relacionamentos-m√∫ltiplos">Entidades Fracas e Relacionamentos M√∫ltiplos<a href="#entidades-fracas-e-relacionamentos-m√∫ltiplos" class="hash-link" aria-label="Link direto para Entidades Fracas e Relacionamentos M√∫ltiplos" title="Link direto para Entidades Fracas e Relacionamentos M√∫ltiplos">‚Äã</a></h4>
<p>At√© agora j√° sabemos mostrar entidades, suas propriedades e suas rela√ß√µes com outras entidades. Agora vamos aprimorar mais um pouco nosso modelo representativo adicionando hierarquia entre entidades.</p>
<blockquote>
<p><strong>Entidade Forte</strong>: √â qualquer entidade que existe por ela mesma e possui uma PK.</p>
</blockquote>
<blockquote>
<p><strong>Entidade Fraca</strong>: √â toda entidade que n√£o tem chave pr√≥pria, ou seja, precisa ser identificada por meio de um relacionamento com outra entidade e por um identificador fraco (chave parcial).</p>
</blockquote>
<blockquote>
<p><strong>Relacionamentos Estendidos</strong>: S√£o os relacionamentos entre mais de duas entidades (chamados de relacionamentos n√£o bin√°rios).</p>
</blockquote>
<p>Abaixo temos um exemplo de entidade fraca chamada <code>transacao</code>. Chamamos ela de entidade fraca porque ela precisa das chaves estrangeiras das contas para fazer sentido.</p>
<!-- -->
<p>Agora vamos ver um exemplo mais complexo onde temos relacionamentos n√£o bin√°rios.</p>
<!-- -->
<p>Aqui podemos ver que um registro de funcion√°rio precisa indicar tanto a cidade quanto o departamento para que seja poss√≠vel saber sua lota√ß√£o.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="atributos-de-relacionamentos">Atributos de Relacionamentos<a href="#atributos-de-relacionamentos" class="hash-link" aria-label="Link direto para Atributos de Relacionamentos" title="Link direto para Atributos de Relacionamentos">‚Äã</a></h5>
<p>Na nota√ß√£o de Peter Chen tamb√©m √© poss√≠vel derivar atributos dos relacionamentos igual fazemos com as entidades. A ideia √© evidenciar quais dados surgem a partir da rela√ß√£o entre entidades.</p>
<blockquote>
<p><strong>Atributos de Relacionamentos</strong>: S√£o atributos derivados da associa√ß√£o entre entidades e n√£o s√£o oriundos das entidades per se.</p>
</blockquote>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Aviso</div><div class="admonitionContent_BuS1"><p>Essa deriva√ß√£o de atributos para relacionamentos s√≥ √© encontrada no modelo de Chen. Dessa feita, vemos que a tend√™ncia  do mercado √© alocar esses atributos diretamente a uma classe.</p></div></div>
<p>Um exemplo de atributo de relacionamento pode ser encontrado na imagem abaixo.</p>
<p><img decoding="async" loading="lazy" alt="atributo-relacionamento" src="/CC_site/assets/images/95-atributo-relacionamento-3d330d4f814eee24b0be83b003c975c6.png" width="850" height="767" class="img_ev3q"></p>
<p>Veja que o relacionamento <code>OPOS</code> tem um atributo diretamente nele. Mas isso causa uma certa dificuldade quando vamos pensar nas tabelas do SGBD pois temos que definir <strong>onde</strong> esse atributo do relacionamento ser√° salvo.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="modelagem-de-supertipos-e-subtipos">Modelagem de Supertipos e Subtipos<a href="#modelagem-de-supertipos-e-subtipos" class="hash-link" aria-label="Link direto para Modelagem de Supertipos e Subtipos" title="Link direto para Modelagem de Supertipos e Subtipos">‚Äã</a></h4>
<p>Algo comum de se deparar na constru√ß√£o de um modelo de banco de dados √© rela√ß√µes de <strong>hierarquia</strong> entre as entidades. Desse modo, precisamos evoluir nosso modelo representativo para indicar classes gerais e classes espec√≠ficas.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>Essa √© justamente a discuss√£o que vimos na mat√©ria de <a href="/CC_site/docs/puc/segundo-periodo/programacao-modular">Programa√ß√£o Modular</a>.</p></div></div>
<blockquote>
<p><strong>Generaliza√ß√£o</strong>: Atributos de uma classe gen√©rica/superclasse/supertipo que indica atributos comuns a uma gama de outras entidades.</p>
</blockquote>
<blockquote>
<p><strong>Especializa√ß√£o</strong>: Processo de definir em detalhes uma classe gen√©rica adaptando-a em casos mais concretos.</p>
</blockquote>
<p>Na declara√ß√£o de subtipos, devemos investigar como os tipos derivados podem ser classificados entre si.</p>
<blockquote>
<p>Para os casos onde uma entidade s√≥ pode ser de um subtipo<sup><a href="#user-content-fn-7" id="user-content-fnref-7" data-footnote-ref="true" aria-describedby="footnote-label">7</a></sup> usamos o termo <strong>disjun√ß√£o</strong>.</p>
</blockquote>
<blockquote>
<p>Para os casos onde podem haver mais de uma rela√ß√£o<sup><a href="#user-content-fn-8" id="user-content-fnref-8" data-footnote-ref="true" aria-describedby="footnote-label">8</a></sup> usamos o termo <strong>sobreposi√ß√£o</strong>.</p>
</blockquote>
<p>Outra rela√ß√£o importante de se definir √© se a superclasse <strong>precisa</strong> ser definida em termos de subclasse.</p>
<blockquote>
<p>Se a classe geral tiver uso sem uma especializa√ß√£o, usamos o conceito de <strong>subtipo total</strong>.</p>
</blockquote>
<blockquote>
<p>Caso ela tenha uso mesmo sendo classe geral mas permita uma especializa√ß√£o, dizemos que ela √© <strong>subtipo parcial</strong>.</p>
</blockquote>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Aviso</div><div class="admonitionContent_BuS1"><p>Essa parte de subtipo e supertipo com classes total ou parcialmente separadas tamb√©m s√≥ existe no modelo de Chen. Com o tempo, o mercado foi percebendo que &quot;menos √© mais&quot; e tendeu para modelos que s√£o mais f√°ceis de ler e entregam um resultado parecido em termos de compreens√£o.</p></div></div>
<p>Abaixo temos um diagrama que reflete a mesma ideia do pertencimento parcial usando o diagrama de Crow&#x27;s foot mas lembre-se que isso √© apenas para efeito did√°tico.</p>
<!-- -->
<p>O diagrama acima √© uma aproxima√ß√£o de como o modelo de Chen trata a especifica√ß√£o das classes. A ideia √© evidenciar que, dado um funcion√°rio, ele s√≥ pode ser de um √∫nico subtipo ou do tipo gen√©rico.</p>
<p>Em outras palavras, podemos ter um registro de funcion√°rio gen√©rico mas, tamb√©m, especificado entre as outras 3 categorias.</p>
<p>Agora vamos ver um exemplo de completude total onde a especifica√ß√£o se torna obrigat√≥ria.</p>
<!-- -->
<p>Nesse exemplo de uma concession√°ria de ve√≠culos, vemos que, dado um ve√≠culo, ele tem que pertencer obrigatoriamente h√° uma subcategoria.</p>
<p>Para encerrar essa parte, vamos ver um exemplo usando sobreposi√ß√£o ao inv√©s de disjun√ß√£o. No caso, modelamos o cen√°rio de uma ind√∫stria que precisa controlar um insumo produtivo que pode vir tanto do seu estoque quanto do fornecedor.</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="projeto-de-banco-de-dados-relacionais-e-n√£o-relacionais">Projeto de Banco de Dados Relacionais e N√£o Relacionais<a href="#projeto-de-banco-de-dados-relacionais-e-n√£o-relacionais" class="hash-link" aria-label="Link direto para Projeto de Banco de Dados Relacionais e N√£o Relacionais" title="Link direto para Projeto de Banco de Dados Relacionais e N√£o Relacionais">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modelo-relacional-de-banco-de-dados">Modelo Relacional de Banco de Dados<a href="#modelo-relacional-de-banco-de-dados" class="hash-link" aria-label="Link direto para Modelo Relacional de Banco de Dados" title="Link direto para Modelo Relacional de Banco de Dados">‚Äã</a></h3>
<p>Surgiu em meados da d√©cada de 70 por E.F. Codd como uma defini√ß√£o puramente derivada da teoria de conjuntos da matem√°tica.</p>
<p>Em 1974, a IBM tentou implementar atrav√©s do <a href="https://people.eecs.berkeley.edu/~brewer/cs262/SystemR.pdf" target="_blank" rel="noopener noreferrer">Sistema R</a> o primeiro SGBD capaz de usar a, ent√£o novidade, <strong>Linguagem de Consulta Estruturada</strong> ou <strong>Structured Query Language (SQL)</strong> para recupera√ß√£o de dados.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conceitos-do-modelo-relacional-e-chave-prim√°ria">Conceitos do Modelo Relacional e Chave Prim√°ria<a href="#conceitos-do-modelo-relacional-e-chave-prim√°ria" class="hash-link" aria-label="Link direto para Conceitos do Modelo Relacional e Chave Prim√°ria" title="Link direto para Conceitos do Modelo Relacional e Chave Prim√°ria">‚Äã</a></h4>
<p>Agora vamos levantar alguns conceitos chaves do modelo relacional.</p>
<blockquote>
<p><strong>Rela√ß√£o</strong> √© qualquer tabela de valores onde cada linha representa uma rela√ß√£o de valores relacionados a uma mesma entidade. Por isso o nome do modelo √© Modelo Relacional.</p>
</blockquote>
<blockquote>
<p><strong>Tupla</strong> s√£o as linhas de uma rela√ß√£o (linhas na tabela) que s√£o obrigatoriamente distintas entre si.</p>
</blockquote>
<blockquote>
<p><strong>Atributo</strong> s√£o o cabe√ßalho de cada coluna, tamb√©m chamado de <strong>campo da tabela</strong>. A quantidade de atributos<sup><a href="#user-content-fn-9" id="user-content-fnref-9" data-footnote-ref="true" aria-describedby="footnote-label">9</a></sup> define o grau da rela√ß√£o.</p>
</blockquote>
<blockquote>
<p>Chamamos de <strong>Dom√≠nio</strong> qualquer conjunto de valores v√°lidos<sup><a href="#user-content-fn-10" id="user-content-fnref-10" data-footnote-ref="true" aria-describedby="footnote-label">10</a></sup> para um atributo.</p>
</blockquote>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Aten√ß√£o</div><div class="admonitionContent_BuS1"><p>N√£o podemos confundir <strong>Dom√≠nio</strong> com <strong>Tipo F√≠sico</strong> do atributo. Tipo f√≠sico √© relacionado ao modo como a vari√°vel √© salva no hardware (ex: <code>string</code>, <code>int</code>, <code>float</code> e etc). Dom√≠nio √© a lista de valores aceitos no atributo.</p></div></div>
<p>Aqui temos um exemplo de implementa√ß√£o de dom√≠nio na pr√°tica</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> Funcionarios </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Nome </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Idade </span><span class="token keyword" style="color:#00009f">INT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CHECK</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Idade </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">65</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Departamento </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CHECK</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Departamento </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;RH&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;TI&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Financeiro&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar c√≥digo para a √°rea de transfer√™ncia" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Al√©m dos conceitos acima, existem algumas regras que o modelo relacional adota implicitamente que s√£o importante de se ter em mente:</p>
<ul>
<li>Os valores dos atributos s√£o <strong>at√¥micos</strong> ou seja, s√≥ existe 1 endere√ßo para cada intersec√ß√£o linha-coluna.</li>
<li>No modelo relacional se admite o valor <strong>nulo</strong> que n√£o √© igual √† string vazia ou zero.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="defini√ß√µes-de-chaves-e-atributos-participante-de-chaves">Defini√ß√µes de chaves e Atributos Participante de chaves<a href="#defini√ß√µes-de-chaves-e-atributos-participante-de-chaves" class="hash-link" aria-label="Link direto para Defini√ß√µes de chaves e Atributos Participante de chaves" title="Link direto para Defini√ß√µes de chaves e Atributos Participante de chaves">‚Äã</a></h5>
<p>Podemos definir, usando nota√ß√£o de conjuntos, o conceito de <strong>superchave</strong> e <strong>chave</strong> em um esquema relacional.</p>
<blockquote>
<p>Uma <strong>Superchave (superkey)</strong> de um esquema relacional <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R = \{ A_1, A_2, ..., A_n \}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> √© um conjunto de atributos <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>‚äÜ</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">S \subseteq R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em"></span><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚äÜ</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span> que possui a propriedade que n√£o existem duas tuplas <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">t_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> e <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">t_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> em qualquer rela√ß√£o autorizada <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span></span></span> de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span> em que seja verdade que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">[</mo><mi>S</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>S</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">t_1[S] = t_2[S]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="mclose">]</span></span></span></span>.</p>
</blockquote>
<blockquote>
<p>Uma <strong>Chave</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span></span></span> √© uma superchave com a propriedade adicional que, caso seja removido qualquer atributos de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span></span></span>, ela deixar√° de ser uma superchave.</p>
</blockquote>
<blockquote>
<p>A <strong>Chave Prim√°ria</strong> √© a coluna (ou combina√ß√£o delas) que define de maneira cabal a distin√ß√£o entre entidades em uma dada tabela.</p>
</blockquote>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>Aprofundaremos mais esse conceito quando vermos a parte de <strong>depend√™ncia funcional</strong>.</p></div></div>
<p>Para identificarmos uma chave prim√°ria basta nos perguntarmos se existe algum atributo que identifique toda a tupla de modo inequ√≠voco.</p>
<blockquote>
<p><strong>Chave Prim√°ria Composta</strong> √© a identifica√ß√£o criada a partir de mais de um atributo da rela√ß√£o (aka tabela).</p>
</blockquote>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Aten√ß√£o</div><div class="admonitionContent_BuS1"><p>N√£o podemos dizer algo como &quot;chaves prim√°rias&quot; para o caso da chave composta porque o conceito de chave prim√°ria s√≥ admite singular. Mesmo que nossa chave seja feita atrav√©s de m√∫ltiplas colunas.</p></div></div>
<blockquote>
<p><strong>Chave Alternativa</strong> √© outra coluna que tamb√©m pode ser usada como chave prim√°ria mas que foi preterida por outra.</p>
</blockquote>
<blockquote>
<p>Um <strong>Atributo Prim√°rio (Prime Attribute)</strong> √© qualquer atributo que fa√ßa parte de alguma chave candidata.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="integridade-referencial-e-chave-estrangeira">Integridade Referencial e Chave Estrangeira<a href="#integridade-referencial-e-chave-estrangeira" class="hash-link" aria-label="Link direto para Integridade Referencial e Chave Estrangeira" title="Link direto para Integridade Referencial e Chave Estrangeira">‚Äã</a></h4>
<p>A chave estrangeira nada mais √© do que a implementa√ß√£o real de um relacionamento.</p>
<blockquote>
<p><strong>Chave Estrangeira</strong> ou **Foreign Key (FK) ** √© a refer√™ncia de uma chave prim√°ria em outra tabela de modo que cont√©m o mesmo dom√≠nio de dados.</p>
</blockquote>
<p>Com esse conceito, j√° podemos evoluir nosso entendimento de entidades em mais uma maneira de classifica√ß√£o das mesmas.</p>
<p>Para se garantir a integridade da rela√ß√£o, temos algumas regras que devem ser seguidas:</p>
<ul>
<li><strong>Integridade de Dom√≠nio</strong>: O dom√≠nio da FK deve ser o mesmo que o da PK a qual faz refer√™ncia.</li>
<li><strong>Integridade de Entidade</strong>: Se existe uma FK, deve existir uma entidade na tabela de refer√™ncia.</li>
<li><strong>Integridade de Chave</strong>: N√£o se admite duplicidade de PK.</li>
<li><strong>Integridade Referencial</strong>: A FK ou √© um valor nulo ou um valor que obedece a rela√ß√£o <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>K</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">[</mo><mi>F</mi><mi>K</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>P</mi><mi>K</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">PK(t_1[FK] = t_2[PK])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mclose">])</span></span></span></span>.</li>
</ul>
<p>Essas restri√ß√µes acima s√£o verificadas sempre que uma nova tupla (ou linha na tabela) √© inserida.</p>
<p>No caso de exclus√£o ou atualiza√ß√£o,  podem haver situa√ß√µes que a manipula√ß√£o da tupla que contenha uma PK referenciada em FK n√£o √© permitida for√ßando a ado√ß√£o de algum saneamento. Temos tr√™s cen√°rios poss√≠veis:</p>
<ol>
<li><code>ON DELETE/UPDATE SET NULL</code> - Todas as FK ser√£o mudadas para nulo.</li>
<li><code>ON DELETE/UPDATE SET DEFAULT</code> - Todas as FK adotam um valor default definido na DDL.</li>
<li><code>ON DELETE/UPDATE CASCADE</code> - Autoriza a propaga√ß√£o do delete em todas as refer√™ncias.</li>
</ol>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Aviso</div><div class="admonitionContent_BuS1"><p>S√≥ use <code>CASCADE</code> junto com commit das mudan√ßas na query porque voc√™ deve sempre ser capaz de reverter esse impacto gerado em caso de algo sair errado.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mapeamento-do-modelo-de-entidades-e-relacionamentos-para-modelo-relacional">Mapeamento do Modelo de Entidades e Relacionamentos para Modelo Relacional<a href="#mapeamento-do-modelo-de-entidades-e-relacionamentos-para-modelo-relacional" class="hash-link" aria-label="Link direto para Mapeamento do Modelo de Entidades e Relacionamentos para Modelo Relacional" title="Link direto para Mapeamento do Modelo de Entidades e Relacionamentos para Modelo Relacional">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mapeamento-de-entidades-e-atributos">Mapeamento de Entidades e Atributos<a href="#mapeamento-de-entidades-e-atributos" class="hash-link" aria-label="Link direto para Mapeamento de Entidades e Atributos" title="Link direto para Mapeamento de Entidades e Atributos">‚Äã</a></h4>
<p>At√© agora, n√≥s est√°vamos focados em aprender  os diagramas do modelo MER que mostram as entidades, seus atributos e seus relacionamentos. Mas no final desse trabalho, √© necess√°rio converter (ou mapear) essas entidades em tabelas.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Aten√ß√£o</div><div class="admonitionContent_BuS1"><p>A etapa de desenho das entidades, atributos e relacionamentos √© chamada de <strong>Modelo Entidade Relacionamento (MER)</strong>. Por sua vez, quando implementamos esse desenho em um SGBD n√≥s temos um <strong>Modelo Relacional</strong>.</p></div></div>
<p>Na hora de mapear nossas entidades, existem algumas t√©cnicas que podemos fazer uso para cumprirmos essa tarefa.</p>
<p>T√©cnicas de Mapeamento de Entidades:</p>
<ul>
<li><strong>Mapeamento de Entidade Regular</strong>: Toda entidade forte se torna uma tabela e cada atributo se torna uma coluna<sup><a href="#user-content-fn-11" id="user-content-fnref-11" data-footnote-ref="true" aria-describedby="footnote-label">11</a></sup>.</li>
<li><strong>Mapeamento de Atributos Multivariados</strong>: Todo atributo multivalorado<sup><a href="#user-content-fn-12" id="user-content-fnref-12" data-footnote-ref="true" aria-describedby="footnote-label">12</a></sup> ser√° convertido em uma tabela com a FK apontando para a entidade forte.</li>
<li><strong>Mapeamento de Entidade Fraca</strong>:  Criamos uma tabela para a entidade fraca com a FK de alguma entidade forte.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mapeamento-de-relacionamentos">Mapeamento de Relacionamentos<a href="#mapeamento-de-relacionamentos" class="hash-link" aria-label="Link direto para Mapeamento de Relacionamentos" title="Link direto para Mapeamento de Relacionamentos">‚Äã</a></h4>
<p>Na hora de mapear os relacionamentos, nosso foco tem que ficar na defini√ß√£o das FK nas tabelas de refer√™ncias aos objetos de completude parcial ou total.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="casos-de-relacionamentos-11-ou-1">Casos de Relacionamentos 1:1 ou 1<!-- -->:N<a href="#casos-de-relacionamentos-11-ou-1" class="hash-link" aria-label="Link direto para casos-de-relacionamentos-11-ou-1" title="Link direto para casos-de-relacionamentos-11-ou-1">‚Äã</a></h5>
<p>Para definir onde nossa FK ser√° implementada, basta se perguntar qual a entidade dependente da outra. Um exemplo cl√°ssico √© o de conta em um banco.</p>
<!-- -->
<p>S√≥ pode haver uma conta se anteriormente existir um cliente. Um cliente pode ter mais de uma conta mas todas elas precisam se remeter ao id do cliente para fazer algum sentido. Similarmente, uma hipoteca s√≥ pode existir se o cadastro do cliente existir antes, a diferen√ßa √© que cada cliente s√≥ pode ter uma √∫nica hipoteca por vez.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="caso-de-relacionamento-n">Caso de Relacionamento N<!-- -->:N<a href="#caso-de-relacionamento-n" class="hash-link" aria-label="Link direto para caso-de-relacionamento-n" title="Link direto para caso-de-relacionamento-n">‚Äã</a></h5>
<p>Esse caso √© mais complexo porque cada entidade por se referenciar mais de uma vez a outra. A melhor sa√≠da desse caso √© a cria√ß√£o de uma tabela nova que usa FK de cada entidade para criar uma linha na tabela de relacionamento.</p>
<!-- -->
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="caso-de-relacionamento-n-√°rio">Caso de Relacionamento N-√°rio<a href="#caso-de-relacionamento-n-√°rio" class="hash-link" aria-label="Link direto para Caso de Relacionamento N-√°rio" title="Link direto para Caso de Relacionamento N-√°rio">‚Äã</a></h5>
<p>Esse caso √© mais raro e indica uma rela√ß√£o m√∫ltipla entre mais de duas entidades. No geral, podemos quebrar em relacionamentos bin√°rios mas por agora vamos aprender tamb√©m esse meio de mapeamento.</p>
<!-- -->
<p>Similar ao caso 1-N, tivemos que nos valer de uma tabela de relacionamento. A diferen√ßa √© que a chave prim√°ria composta aumentou de 2 (caso 1-N) para N valores.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="casos-de-generaliza√ß√£o-especifica√ß√£o">Casos de Generaliza√ß√£o-Especifica√ß√£o<a href="#casos-de-generaliza√ß√£o-especifica√ß√£o" class="hash-link" aria-label="Link direto para Casos de Generaliza√ß√£o-Especifica√ß√£o" title="Link direto para Casos de Generaliza√ß√£o-Especifica√ß√£o">‚Äã</a></h5>
<p>Bancos de dados n√£o implementa√ß√£o heran√ßa. Dessa feita, n√≥s temos que converter os relacionamentos de completude parcial e total em tabelas.</p>
<p>Voltando no exemplo dos ve√≠culos. N√≥s temos 3 op√ß√µes do que fazer.</p>
<!-- -->
<p>Maneiras de mapear:</p>
<ol>
<li>Criar uma tabela <code>veiculo</code> com colunas adicionais que s√≥ ser√£o preenchidas no casos espec√≠ficos de <code>carro</code> e <code>caminhao</code> sinalizando na coluna <code>tipo</code> colocando null quando n√£o relevante.</li>
<li>Criar tabelas <code>carro</code> e <code>caminhao</code> com as colunas pertencentes √† tabela <code>veiculo</code>. Desse modo, teremos duas classes independentes entre si mas com algumas colunas de sentido compartilhado.</li>
<li>Criar uma tabela para cada entidade, passando a FK do relacionamento <code>veiculo</code> como indicativo.</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>Cada uma das abordagens tem pr√≥s e contras mas, na minha experi√™ncia, o terceiro caso √© o mais comum.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problemas-de-desenho-em-bancos-relacionais">Problemas de Desenho em Bancos Relacionais<a href="#problemas-de-desenho-em-bancos-relacionais" class="hash-link" aria-label="Link direto para Problemas de Desenho em Bancos Relacionais" title="Link direto para Problemas de Desenho em Bancos Relacionais">‚Äã</a></h3>
<p>Se aplicarmos tudo que aprendemos at√© o momento, ainda seremos pass√≠veis de cometer erros que podem comprometer o desempenho e, por fim, a utilidade do nosso modelo.</p>
<p>Nessa se√ß√£o, vamos elencar alguns dos casos mais comuns que levaram ao desenvolvimento de uma metodologia de avalia√ß√£o de desenho de modelos relacionais que veremos na se√ß√£o de <strong>Normaliza√ß√£o</strong>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sentido-sem√¢ntico-dos-atributos-obtuso">Sentido Sem√¢ntico dos Atributos Obtuso<a href="#sentido-sem√¢ntico-dos-atributos-obtuso" class="hash-link" aria-label="Link direto para Sentido Sem√¢ntico dos Atributos Obtuso" title="Link direto para Sentido Sem√¢ntico dos Atributos Obtuso">‚Äã</a></h4>
<blockquote>
<p>Sempre desenhe um esquema relacional de modo que seja f√°cil explicar o seu sentido, para isso, <strong>n√£o</strong> misture atributos de entidades diferentes e de relacionamentos em uma mesma tabela (rela√ß√£o).</p>
</blockquote>
<p>No geral, essa regra se baseia no fato que devemos pensar em cada rela√ß√£o como representante de uma entidade ou de um relacionamento. Desse modo, se misturarmos atributos de mais de uma entidade ou relacionamento, estaremos aumentando desnecessariamente a complexidade do sentido sem√¢ntico do nosso modelo.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Exemplo</summary><div><div class="collapsibleContent_i85q"><p>Abaixo temos um exemplo do que n√£o fazer pois acabamos misturando informa√ß√µes relativas ao departamento que s√£o relacionadas exclusivamente √† outra entidade separada da entidade <code>EMPREGADO_DEPARTAMENTO</code> (que por sua vez, √© basicamente a entidade <code>empregado</code> com informa√ß√µes adicionais de departamento).</p><p>Para corrigir isso, devemos indicar separar completamente o relacionamento entre essas entidades de modo at√¥mico.</p><p>Agora, vamos ver como deveria ser:</p><p>Para entender intuitivamente onde estava o problema, basta se colocar no papel de algu√©m que ia explicar a tabela <code>EMPREGADO_DEPARTAMENTO</code>. Veja que voc√™ ia precisar explicar quais colunas se referiam ao funcion√°rio e quais se referiam ao departamento.</p><p>No exemplo corrigido, tudo fica super simples porque s√≥ correlacionamos as entidades sem misturar nenhum dos seus atributos.</p></div></div></details>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="informa√ß√£o-redundante-em-tuplas-e-anomalias-de-atualiza√ß√£o">Informa√ß√£o Redundante em Tuplas e Anomalias de Atualiza√ß√£o<a href="#informa√ß√£o-redundante-em-tuplas-e-anomalias-de-atualiza√ß√£o" class="hash-link" aria-label="Link direto para Informa√ß√£o Redundante em Tuplas e Anomalias de Atualiza√ß√£o" title="Link direto para Informa√ß√£o Redundante em Tuplas e Anomalias de Atualiza√ß√£o">‚Äã</a></h4>
<blockquote>
<p>Devemos desenhar um esquema relacional de modo a n√£o produzir anomalias de insert, deletion ou update. Caso seja imposs√≠vel evitar, devemos nos assegurar que os programas sempre levar√£o as anomalias em considera√ß√£o na hora de interagir com o banco.</p>
</blockquote>
<p>Seguindo o exemplo do caso anterior, podemos ver que a tabela <code>empregado_departamento</code> sempre ir√° repetir as informa√ß√µes do departamento para cada empregado. Isso tem impacto no custo de storage do servidor de banco de dados e, como se n√£o fosse suficiente, pode levar a anomalias v√°rios tipos de anomalias.</p>
<p>Essa jun√ß√£o entre informa√ß√µes de diferentes entidades em uma nova rela√ß√£o chamamos de <strong>Natural Join</strong>.</p>
<p>Somente por termos um mal design nas tabelas, nos expomos a v√°rias anomalias que podemos elencar abaixo.</p>
<ol>
<li>Anomalias de Inser√ß√£o<!-- -->
<ol>
<li>Para criar uma nova entrada de empregado, sempre ser√° necess√°rio consultas as informa√ß√µes do departamento e duplicar essas mesmas informa√ß√µes em cada linha de empregados que est√£o lotados no mesmo departamento. Caso o empregado n√£o tenha departamento ainda, teremos que inserir <code>NULL</code> em todas as colunas referentes ao departamento.</li>
<li>N√≥s simplesmente n√£o seremos capazes de inserir um novo departamento que ainda n√£o tem nenhum funcion√°rio porque o <code>cpf</code> √© PK.</li>
</ol>
</li>
<li>Anomalias de Dele√ß√£o<!-- -->
<ol>
<li>Caso um departamento perca todos os seus empregados, n√≥s perderemos a informa√ß√£o do departamento definitivamente porque ela s√≥ existe na tabela <code>empregado_departamento</code>.</li>
</ol>
</li>
<li>Anomalias de Modifica√ß√£o<!-- -->
<ol>
<li>Se mudarmos o nome de um departamento, termos que fazer update em <strong>todas</strong> as linhas de empregados lotados no mesmo. Qualquer erro nesse update e teremos dados conflitantes na base de dados.</li>
</ol>
</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informa√ß√£o</div><div class="admonitionContent_BuS1"><p>Em alguns casos, teremos que pensar nos relat√≥rios ou consultas frequentes que ser√£o demandas. Caso haja necessidade de se consultar entidades com relacionamentos de maneira misturada, devemos usar <code>views</code> ao inv√©s de jogar essa responsabilidade para o banco de dados.</p><p>Em casos que demandam muita performance, podemos usar <code>stored procedures</code> junto com <code>triggers</code> para garantir que sempre teremos dados livres de anomalias na tabela que precisa conter atributos misturados. O conceito dado para uma tabela desse tipo √© <strong>view materializada</strong>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="valores-null-desnecess√°rios-em-tuplas">Valores <code>NULL</code> Desnecess√°rios em Tuplas<a href="#valores-null-desnecess√°rios-em-tuplas" class="hash-link" aria-label="Link direto para valores-null-desnecess√°rios-em-tuplas" title="Link direto para valores-null-desnecess√°rios-em-tuplas">‚Äã</a></h4>
<blockquote>
<p>Evite a todo custo adicionar atributos em rela√ß√µes de base (ou seja, entidades b√°sicas) que ter√£o valores <code>NULL</code> frequentemente. A regra geral √© <code>NULL</code> ser sempre uma exce√ß√£o.</p>
</blockquote>
<p>Ao inv√©s de termos rela√ß√µes (ou tabelas) grandes com v√°rios campos opcionais, devemos dar prefer√™ncia √† quebra desses campos em relacionamentos com outras tabelas usando FK. A explica√ß√£o disso √© que <code>NULL</code> √© um dado, e por ser um dado, ele ocupa espa√ßo no storage e pode causar problemas de opera√ß√£o de queries dado que trabalhar com dados nulos n√£o √© sempre trivial.</p>
<p>Outro problema s√©rio √© que o sentido sem√¢ntico de um campo nulo √© notadamente amb√≠guo. Por exemplo, podemos pensar que uma coluna (ou atributo) nulo signifique:</p>
<ol>
<li>Que o valor na tupla √© &quot;n√£o aplic√°vel&quot;.</li>
<li>Que o valor na tuple √© &quot;desconhecido&quot;.</li>
<li>Que o sabemos que o valor existe mas, naquele momento, √© incerto ou resta pendente.</li>
</ol>
<p>Como saber com certeza o que cada campo anul√°vel (ou nullable) realmente quer dizer? Claramente, estamos aumentando o risco de falha no entendimento do nosso modelo de dados.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tuplas-esp√∫rias">Tuplas Esp√∫rias<a href="#tuplas-esp√∫rias" class="hash-link" aria-label="Link direto para Tuplas Esp√∫rias" title="Link direto para Tuplas Esp√∫rias">‚Äã</a></h4>
<blockquote>
<p>Devemos evitar rela√ß√µes que contenham atributos compar√°veis com atributos PK e FK de outras rela√ß√µes.</p>
</blockquote>
<p>A ideia desse problema surge quando temos que fazer JOIN por atributos que n√£o s√£o PK (e se n√£o mapeados, tamb√©m n√£o ser√£o FK) de nenhuma rela√ß√£o. O impacto disso √© que a tabelar resultante do JOIN poder√° ter tuplas (ou linhas) que n√£o fazem sentido (por isso chamadas de esp√∫rias).</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Exemplo</summary><div><div class="collapsibleContent_i85q"><p>Se quisermos uma consulta que nos diga todos os empregados por projeto com o nome completo do empregado, teremos problemas pois s√≥ temos a coluna <code>CIDADE_PROJETO</code> como possibilidade de JOIN.</p><p>Isso causaria linhas que n√£o fazem sentido onde um nome completo de um funcion√°rio estaria ligado a um cpf de outro.</p></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="normaliza√ß√£o">Normaliza√ß√£o<a href="#normaliza√ß√£o" class="hash-link" aria-label="Link direto para Normaliza√ß√£o" title="Link direto para Normaliza√ß√£o">‚Äã</a></h3>
<p>Vamos recapitular o que j√° aprendemos at√© agora:</p>
<ol>
<li>Sabemos criar modelos relacionais representativos de uma implementa√ß√£o real de entidades e rela√ß√µes.</li>
<li>J√° sabemos os erros mais comuns que um desenho ruim pode causa.</li>
</ol>
<p>Agora, precisamos de ferramentas para medir a <strong>qualidade</strong> do nosso design. Esse esfor√ßo de avaliar o modelo √© chamado <strong>normaliza√ß√£o</strong> mas vamos dar uma defini√ß√£o mais precisa logo √† frente.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contexto Hist√≥rico</div><div class="admonitionContent_BuS1"><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Um pouco de hist√≥ria</summary><div><div class="collapsibleContent_i85q"><p>A primeira pessoa a propor o processo de normaliza√ß√£o foi Codd em 2 artigos super relevantes pra nossa √°rea.</p><p>No artigo <a href="https://www.seas.upenn.edu/~zives/03f/cis550/codd.pdf" target="_blank" rel="noopener noreferrer">A Relational Model of Data For Large Share Data Banks</a> temos a defini√ß√£o inicial de todo o esquema de bancos relacionais e da primeira forma normal.</p><p>No artigo <a href="https://forum.thethirdmanifesto.com/wp-content/uploads/asgarosforum/987737/00-efc-further-normalization.pdf" target="_blank" rel="noopener noreferrer">‚ÄúFurther Normalization of the Data Base Relational Model‚Äù</a> in Rustin [1972], fora proposto as outras duas formas normais e o processo de normaliza√ß√£o.</p><p>Originalmente, foram propostas 3 formas normais sendo que a defini√ß√£o mais formal da terceira forma foi dada posteriormente por Boyce e Codd.</p><p>Com o passar dos anos, foram definidas mais 2 formas normais que s√£o baseadas nos conceitos de depend√™ncias multivaloradas e depend√™ncias conjuntas.</p></div></div></details></div></div>
<p>Para conseguirmos entender bem o que √© <strong>normaliza√ß√£o</strong> precisaremos de um conceito que √© a base na qual construiremos nossa an√°lise.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Informa√ß√£o</div><div class="admonitionContent_BuS1"><p>Quem quiser uma abordagem de v√≠deo desse mesmo assunto, pode conferir na aula abaixo.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Aula no Youtube</summary><div><div class="collapsibleContent_i85q"><iframe width="560" height="315" src="https://www.youtube.com/embed/GFQaEYEc8_8?si=_lX7T10bG9wq4sx9" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe></div></div></details></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="depend√™ncia-funcional">Depend√™ncia Funcional<a href="#depend√™ncia-funcional" class="hash-link" aria-label="Link direto para Depend√™ncia Funcional" title="Link direto para Depend√™ncia Funcional">‚Äã</a></h4>
<p>At√© agora, sempre representamos nosso banco de dados em termos de tabelas e entidades, entretanto, nada nos impede de abstrair um desenho<sup><a href="#user-content-fn-14" id="user-content-fnref-14" data-footnote-ref="true" aria-describedby="footnote-label">13</a></sup> de banco de dados relacional como um conjunto de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span></span></span></span> atributos <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> de modo que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>‚àà</mo><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">i \in \{1,2,...,n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6986em;vertical-align:-0.0391em"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">n</span><span class="mclose">}</span></span></span></span>. Ou seja, nosso banco de dados pode ser definido como <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R = \{A_1, A_2, ..., A_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>.</p>
<blockquote>
<p>Uma <strong>Depend√™ncia Funcional (DF)</strong>, escrita por <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>‚Üí</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span></span></span></span><sup><a href="#user-content-fn-13" id="user-content-fnref-13" data-footnote-ref="true" aria-describedby="footnote-label">14</a></sup>, sendo <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span></span></span></span> e <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>‚äÇ</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">Y \subset R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚äÇ</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span>, define uma <strong>limita√ß√£o</strong> para as tuplas poss√≠veis que podem expressar uma rela√ß√£o <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span></span></span> de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span>.</p>
<p>Essa rela√ß√£o entre tuplas quaisquer <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">t_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> e <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">t_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> deve satisfazer a seguinte regra: Para qualquer <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">t_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> e <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">t_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> em <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span></span></span>, deve ser verdade que se <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">t_1[X] = t_2[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">]</span></span></span></span>, ent√£o, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">t_1[Y] = t_2[Y]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span><span class="mclose">]</span></span></span></span>.</p>
</blockquote>
<p>Se for definido em <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span> que n√£o √© poss√≠vel existir duas tuplas de modo que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">t_1[X] = t_2[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">]</span></span></span></span> temos, ent√£o, uma <strong>chave candidata</strong> visto que √© um valor (ou conjunto de valores) que exprime uma rela√ß√£o at√¥mica.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Exemplo</summary><div><div class="collapsibleContent_i85q"><p>Calma, nem √© t√£o complexo quanto parece. A primeira coisa √© lembrar que <strong>tupla</strong> pode ser entendido nesse contexto como linhas das tabelas. Nesse caso em especial, estamos dizendo algo como: &quot;Se duas linhas dos atributos X s√£o iguais, com certeza absoluta, essas linhas tamb√©m ser√£o iguais nos atributos Y, se Y tiver uma depend√™ncia funcional de X&quot;.</p><p>Temos essa certeza porque sabemos que Y depende de X. Ent√£o, se X diz que algo √© igual, Y tamb√©m dir√° a mesma coisa.</p><p>Para simplificar, podemos pensar X e Y como um atributo s√≥. Por exemplo, X = <code>cpf</code> e Y = <code>nome</code>. N√≥s sabemos que, se 2 cpfs s√£o iguais, eles <strong>precisam</strong> estar se referenciando √† uma mesma pessoa. Como os <code>cpf</code> iguais implicam em estarmos falando de uma mesma pessoa, os campos <code>nome</code> referentes a cada entrada do <code>cpf</code> tamb√©m ser√£o iguais.</p><p>Por isso, podemos dizer que <code>nome</code> depente de <code>cpf</code>. Ou, na linguagem formal, <code>cpf</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>‚Üí</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">‚Üí</span></span></span></span> <code>nome</code>.</p></div></div></details>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Aviso</div><div class="admonitionContent_BuS1"><p>Preste muita aten√ß√£o nesse conceito porque o Navathe se refere a ele como &quot;O conceito mais importante na teoria do design de esquemas relacionais&quot;.</p><p>Quem sentir dificuldade com a linguagem usada, vale a pena conferir a parte de <a href="/CC_site/docs/puc/primeiro-periodo/matematica-basica">matem√°tica</a></p></div></div>
<p>Agora que sabemos o que √© uma depend√™ncia funcional, estamos prontos para usar esse conceito na defini√ß√£o de uma metodologia formal para melhoria e teste do nosso desenho de banco dados relacional.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="formas-normais-baseadas-em-chaves-prim√°rias">Formas Normais baseadas em Chaves Prim√°rias<a href="#formas-normais-baseadas-em-chaves-prim√°rias" class="hash-link" aria-label="Link direto para Formas Normais baseadas em Chaves Prim√°rias" title="Link direto para Formas Normais baseadas em Chaves Prim√°rias">‚Äã</a></h4>
<p>Para construir nossa metodologia de avalia√ß√£o de esquemas relacionais, n√≥s vamos supor que:</p>
<ul>
<li>Para cada rela√ß√£o, existe um conjunto de depend√™ncias funcionais.</li>
<li>Para cada rela√ß√£o, existe uma defini√ß√£o de chave prim√°ria.</li>
</ul>
<blockquote>
<p>Chamamos de <strong>Processo de Normaliza√ß√£o</strong> o conjunto de testes (baseados nas duas condi√ß√µes acima) feitos nos modelos relacionais para mensurar a <strong>forma normal</strong> que o esquema (ou modelo) pode ser avaliado.</p>
</blockquote>
<p>Se bem executado, o processo de normaliza√ß√£o acarreta a redu√ß√£o de 2 problemas:</p>
<ol>
<li>Reduzir redund√¢ncia</li>
<li>Redu√ß√£o de anomalias nos processos de DML que alteram dados.</li>
</ol>
<blockquote>
<p>Chamamos de <strong>Forma Normal</strong> a refer√™ncia ao mais alto grau de condi√ß√µes que uma rela√ß√£o<sup><a href="#user-content-fn-15" id="user-content-fnref-15" data-footnote-ref="true" aria-describedby="footnote-label">15</a></sup> cont√©m. A defini√ß√£o de cada forma normal √© derivada exclusivamente do conceito de depend√™ncia funcional sobre os atributos de uma rela√ß√£o.</p>
</blockquote>
<p>Se uma determinada rela√ß√£o n√£o passar no teste para uma forma normal, ser√° necess√°rio fazer uma decomposi√ß√£o em rela√ß√µes menores at√© se obter a adequa√ß√£o √† forma.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>Tecnicamente, a √∫nica condi√ß√£o para se ter a terceira forma normal √© a segunda. Visto que, como vamos ver, a primeira n√£o √© condi√ß√£o para a segunda, √©, tecnicamente, poss√≠vel se ter a terceira forma normal apenas com o alcance da segunda.</p><p>Mas por motivo de desenvolvimento hist√≥rico, vamos ver as formas em sequ√™ncia.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="primeira-forma-normal-1nf">Primeira Forma Normal (1NF)<a href="#primeira-forma-normal-1nf" class="hash-link" aria-label="Link direto para Primeira Forma Normal (1NF)" title="Link direto para Primeira Forma Normal (1NF)">‚Äã</a></h4>
<p>A primeira forma normal est√° condita no artigo original de Cobb que introduziu o modelo relacional. Naquele contexto, todo o processo de normaliza√ß√£o estava contido nessa √∫nica regra.</p>
<p>Basicamente, a primeira forma normal rege a cria√ß√£o de rela√ß√µes proibindo a exist√™ncia de:</p>
<ol>
<li>Atributos multivalorados</li>
<li>Atributos compostos</li>
</ol>
<p>Todo dom√≠nio de um atributo deve ser composto de valores <strong>at√¥micos</strong> .</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>A primeira forma normal n√£o tem uma defini√ß√£o matem√°tica precisa porque ela est√° atrelada ao cerne do pr√≥prio modelo relacional. Entender os benef√≠cios dessa forma normal √©, em suma, entender os benef√≠cios do modelo relacional como um todo.</p></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Exemplo Atributo Multivalorado</summary><div><div class="collapsibleContent_i85q"><p>Imagine uma tabela DEPARTAMENTO abaixo:</p><table><thead><tr><th>ID</th><th>ESTADO</th><th>CIDADE</th></tr></thead><tbody><tr><td>1</td><td>SP</td><td>S√ÉO PAULO</td></tr><tr><td>2</td><td>MG</td><td>(BELO HORIZONTE, BETIM)</td></tr><tr><td>3</td><td>PA</td><td>(SANTAREM, BELEM, ALTAMIRA)</td></tr></tbody></table><p>A primeira forma normal <strong>pro√≠be</strong> que uma rela√ß√£o como essa seja criada porque o atributo <code>cidade</code> n√£o √© at√¥mico.</p><p>O processo de normaliza√ß√£o <sup><a href="#user-content-fn-16" id="user-content-fnref-16" data-footnote-ref="true" aria-describedby="footnote-label">16</a></sup> nesse caso entregaria uma tabela assim</p><table><thead><tr><th><em>ID</em></th><th>ESTADO</th><th><em>CIDADE</em></th></tr></thead><tbody><tr><td>1</td><td>SP</td><td>S√ÉO PAULO</td></tr><tr><td>2</td><td>MG</td><td>BELO HORIZONTE</td></tr><tr><td>2</td><td>MG</td><td>BETIM</td></tr><tr><td>3</td><td>PA</td><td>SANTAR√âM</td></tr><tr><td>3</td><td>PA</td><td>BEL√âM</td></tr><tr><td>3</td><td>PA</td><td>ALTAMIRA</td></tr></tbody></table><p>onde a PK √© o <code>ID</code> e <code>CIDADE</code>.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Exemplo de Atributo Composto</summary><div><div class="collapsibleContent_i85q"><p>Pensemos num caso onde temos a tabela EMPREGADO_PROJETO que relaciona dados do empregado e quais projetos ele est√° atuando.</p><p>Poder√≠amos pensar que projeto √© um atributo composto que cont√©m, nele mesmo, dados do ID_PROJETO e HORAS que o empregado est√° atuando.</p><p>Desse modo, podemos chegar, erradamente, ao desenho abaixo:</p><table><thead><tr><th>CPF</th><th>NOME</th><th>ID_PROJETO</th><th>HORAS</th></tr></thead><tbody><tr><td>1234</td><td>ZE DA SILVA</td><td>1 <br> 2</td><td>10 <br> 20</td></tr></tbody></table><p>Esse tipo de rela√ß√£o n√£o √© permitida porque, novamente, temos a quebra da atomicidade no atributo da tupla.</p></div></div></details>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="segunda-forma-normal-2nf">Segunda Forma Normal (2NF)<a href="#segunda-forma-normal-2nf" class="hash-link" aria-label="Link direto para Segunda Forma Normal (2NF)" title="Link direto para Segunda Forma Normal (2NF)">‚Äã</a></h4>
<p>Para definirmos a 2NF precisamos expandir um pouco o nosso entendimento de depend√™ncia funcional para os tipos total e parcial.</p>
<blockquote>
<p>Se <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>‚Üí</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span></span></span></span> tiver uma depend√™ncia funcional total, ent√£o, se removermos qualquer atributo <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub><mo>‚àà</mo><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i \in X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, qualquer outra combina√ß√£o de atributos do tipo <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>X</mi><mo>‚àí</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X - A_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">‚àí</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> <strong>n√£o</strong> ter√° uma depend√™ncia funcional com <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span></span></span></span>.</p>
</blockquote>
<p>Se a regra acima n√£o for cumprida, dizemos que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>‚Üí</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span></span></span></span> √© uma <strong>depend√™ncia funcional parcial</strong>.</p>
<blockquote>
<p>Dado um esquema de rela√ß√£o <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span>, √© dito que ele √© <strong>2NF</strong> se todos os atributos n√£o prim√°rios <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub><mo>‚àà</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">A_i \in R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span> possuem uma depend√™ncia funcional completa em rela√ß√£o a qualquer chave de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span>.</p>
</blockquote>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>Para entender melhor essa passagem, basta pensar que, se estamos falando de depend√™ncia funcional total a partir de qualquer chave. Isso for√ßa que todas as colunas dependentes de valor (do lado direito da depend√™ncia funcional) sejam inteiramente dependentes √† todas as chaves da tabela.<sup><a href="#user-content-fn-17" id="user-content-fnref-17" data-footnote-ref="true" aria-describedby="footnote-label">17</a></sup></p></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Exemplo</summary><div><div class="collapsibleContent_i85q"><p>Observe a tabela abaixo:</p><table><thead><tr><th><em>CPF</em></th><th><em>PROJETO_ID</em></th><th>HORA</th><th>E_NOME</th><th>P_SIGLA</th><th>P_CIDADE</th></tr></thead></table><p>Mesmo que escolhamos <code>CPF</code> e <code>PROJETO_ID</code> como chaves prim√°rias, ainda estar√≠amos violando a 2NF porque a regra de depend√™ncia de atributos n√£o prim√°rios n√£o seria satisfeita.</p><p>Embora, de fato, <code>CPF</code> e <code>PROJETO_ID</code> sejam atributos prim√°rios (que n√£o possuem depend√™ncia funcional), a 2NF nos cobra que todos os atributos n√£o prim√°rios sejam <strong>totalmente</strong> dependentes funcionais da nossa PK.</p><p>Por exemplo, <code>P_SIGLA</code> e <code>P_CIDADE</code> s√£o dependentes funcionais exclusivamente de <code>PROJETO_ID</code>. <code>E_NOME</code> √© dependente exclusivamente de <code>CPF</code>. Por fim, <code>HORA</code> √© o √∫nico atributo que realmente √© dependente de <code>CPF</code> e <code>PROJETO_ID</code> ao mesmo tempo.</p><p>O defeito dessa tabela √© que n√≥s apenas juntamos coisas que n√£o indicam a subordina√ß√£o correta √† chave prim√°ria.</p><p>Para resolver, basta decompor essa rela√ß√£o em rela√ß√µes que de fato exprimem a depend√™ncia funcional total entre os atributos n√£o prim√°rios e a chave prim√°ria.</p><table><thead><tr><th><em>CPF</em></th><th><em>PROJETO_ID</em></th><th>HORA</th></tr></thead></table><table><thead><tr><th><em>CPF</em></th><th>E_NOME</th></tr></thead></table><table><thead><tr><th><em>PROJETO_ID</em></th><th>P_SIGLA</th><th>P_CIDADE</th></tr></thead></table></div></div></details>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="terceira-forma-normal-3nf">Terceira Forma Normal (3NF)<a href="#terceira-forma-normal-3nf" class="hash-link" aria-label="Link direto para Terceira Forma Normal (3NF)" title="Link direto para Terceira Forma Normal (3NF)">‚Äã</a></h4>
<p>Para definirmos a 3NF, precisamos expandir um pouco mais o conceito de depend√™ncia funcional para o tipo transitivo.</p>
<blockquote>
<p>Chamamos de <strong>depend√™ncia funcional transitiva</strong> se existir um conjunto de atributos <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>‚äÇ</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">Z \subset R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚äÇ</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span> que n√£o √© nem candidato √† chave nem um subconjunto de nenhuma chave de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span> e, tamb√©m, for verdade que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>‚Üí</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X \rightarrow Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span> e <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>‚Üí</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">Z \rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span></span></span></span>.</p>
</blockquote>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Exemplo</summary><div><div class="collapsibleContent_i85q"><p>Vamos entender melhor esse conceito com um exemplo. Pensemos numa tabela com os seguintes campos:</p><table><thead><tr><th>NOME</th><th>CPF</th><th>DTNASCIMENTO</th><th>DEP_ID</th><th>DEP_NOME</th></tr></thead></table><p>Se nossa PK for exclusivamente o atributo <code>CPF</code>. Teremos um caso de depend√™ncia transitiva entre <code>CPF</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>‚Üí</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">‚Üí</span></span></span></span> <code>DEP_NOME</code> porque o nome do departamento √© dependente do <code>DEP_ID</code> que, por sua vez, √© dependente da PK nessa rela√ß√£o.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Coment√°rio</div><div class="admonitionContent_BuS1"><p>Veja como, al√©m da depend√™ncia funcional transitiva, essa tabela tamb√©m fere a 2NF.  Agora, veja o conceito da 3NF e entenda como elas se relacionam.</p></div></div></div></div></details>
<blockquote>
<p>Dizemos que um esquema relacional est√° na <strong>3NF</strong> se estiver na 2NF e, tamb√©m, nenhum atributo n√£o prim√°rio de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span> possuir depend√™ncia transitiva em rela√ß√£o √† PK de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span>.</p>
</blockquote>
<p>Outra maneira, mais geral, de definir a 3NF √©:</p>
<blockquote>
<p>Uma rela√ß√£o est√° na <strong>3NF</strong> se, para qualquer depend√™ncia funcional n√£o trivial <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>‚Üí</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span></span></span></span>, for verdade que, em <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span>, qualquer <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span></span></span></span> √© uma superkey ou <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">Y</span></span></span></span> for um atributo prim√°rio de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span>.</p>
</blockquote>
<p>Dessa defini√ß√£o mais formal, podem ver que, para uma rela√ß√£o estar na 3NF √© necess√°rio que:</p>
<ol>
<li>Todo atributo n√£o prim√°rio seja totalmente dependente de todas as chaves</li>
<li>Todo atributo n√£o prim√°rio n√£o possua depend√™ncia transitiva relativa √† nenhuma chave</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="boyce-codd-normal-form-bcnf">Boyce-Codd Normal Form (BCNF)<a href="#boyce-codd-normal-form-bcnf" class="hash-link" aria-label="Link direto para Boyce-Codd Normal Form (BCNF)" title="Link direto para Boyce-Codd Normal Form (BCNF)">‚Äã</a></h4>
<p>Pg 517.</p>
<p>Surpresa! Temos uma &quot;nova&quot; forma normal que n√£o √© necessariamente &quot;nova&quot;. A 3NF foi refinada com o passar do tempo para casos mais espec√≠ficos que ainda poderiam contemplar a 3NF mas que gerariam problemas.</p>
<blockquote>
<p>Dizemos que uma rela√ß√£o est√° na <strong>BCNF</strong> se, para cada depend√™ncia funcional n√£o trivial <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>‚Üí</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">X \rightarrow A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span></span></span></span>, for verdade que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span></span></span></span> √© uma superkey de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span>.</p>
</blockquote>
<p>A diferen√ßa est√° no fato 2 que vimos logo acima. A 3NF s√≥ cobra que atributos n√£o prim√°rios n√£o tenham depend√™ncia transitiva mas n√£o que eles estejam em uma superkey.</p>
<p>O toda rela√ß√£o que contempla a BCNF est√°, por defini√ß√£o, contemplando a 3NF. Mas a rec√≠proca n√£o √© verdadeira.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="quarta-e-quinta-formas-normais">Quarta e Quinta Formas Normais<a href="#quarta-e-quinta-formas-normais" class="hash-link" aria-label="Link direto para Quarta e Quinta Formas Normais" title="Link direto para Quarta e Quinta Formas Normais">‚Äã</a></h4>
<p>Embora, como dito anteriormente, se tenham desenvolvido testes para al√©m da terceira forma normal, Navathe adverte que a praticidade das quarta e quinta formas normais √© debat√≠vel porque s√£o &quot;baseadas em condi√ß√µes raras e dif√≠ceis para planejadores de bancos de dados e usu√°rios compreender e detectar&quot;.</p>
<p>Outro ponto importante √© que existe uma escolha entre performance vs normaliza√ß√£o. Onde, quanto maior a normaliza√ß√£o do esquema, menor ser√° seu desempenho (porque teremos cada vez mais condi√ß√µes para controle).</p>
<blockquote>
<p><strong>Denormaliza√ß√£o</strong> √© o processo de contrariar as regras de uma dada forma normal e persistir um JOIN entre entidades ou relacionamentos como uma rela√ß√£o-base.</p>
</blockquote>
<p>As vezes, precisamos denormalizar para ganhar performance (sempre tendo em mente o risco que isso trar√°).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="banco-de-dados-n√£o-relacionais">Banco de Dados N√£o-Relacionais<a href="#banco-de-dados-n√£o-relacionais" class="hash-link" aria-label="Link direto para Banco de Dados N√£o-Relacionais" title="Link direto para Banco de Dados N√£o-Relacionais">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="database-nosql">Database NoSQL<a href="#database-nosql" class="hash-link" aria-label="Link direto para Database NoSQL" title="Link direto para Database NoSQL">‚Äã</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="seguran√ßa">Seguran√ßa<a href="#seguran√ßa" class="hash-link" aria-label="Link direto para Seguran√ßa" title="Link direto para Seguran√ßa">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="seguran√ßa-de-banco-de-dados">Seguran√ßa de Banco de Dados<a href="#seguran√ßa-de-banco-de-dados" class="hash-link" aria-label="Link direto para Seguran√ßa de Banco de Dados" title="Link direto para Seguran√ßa de Banco de Dados">‚Äã</a></h4>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bibliografia">Bibliografia<a href="#bibliografia" class="hash-link" aria-label="Link direto para Bibliografia" title="Link direto para Bibliografia">‚Äã</a></h2>
<ul>
<li>ELMASRI, Ramez; NAVATHE, Shamkant B. <strong>Sistemas de banco de dados.</strong> 7 ed. S√£o Paulo: Person, 2018.</li>
<li>MARTIN, James. <strong>Principles of Data Base Management</strong>.</li>
<li>CHEN, Peter. <strong>Modelagem de dados: A abordagem para Projeto L√≥gico</strong>.</li>
<li>E.F. Codd. <strong>A Relational Model of Data For Large Shared Data Banks</strong>. Comm. ACM 13, 6 (June 1970), 377-387.</li>
<li>ROB e Coronel. <strong>Database Systems: Design</strong>. Implementation and Management Wadworth Series (1993).</li>
<li>E.F. Codd. <a href="https://www.seas.upenn.edu/~zives/03f/cis550/codd.pdf" target="_blank" rel="noopener noreferrer">A Relational Model of Data For Large Share Data Banks</a>.</li>
<li>E.F. Codd. <a href="https://forum.thethirdmanifesto.com/wp-content/uploads/asgarosforum/987737/00-efc-further-normalization.pdf" target="_blank" rel="noopener noreferrer">Further Normalization of the Data Base Relational Model</a>.</li>
</ul>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Link direto para Footnotes" title="Link direto para Footnotes">‚Äã</a></h2>
<ol>
<li id="user-content-fn-1">
<p>Ou seja, que continuam salvos mesmo depois do computador desligar. <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-2">
<p>Na esperan√ßa que ele sempre tome uma decis√£o otimizada de como acessar o dado. Mas fique tranquilo, quase sempre ele escolhe o melhor caminho. <a href="#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-3">
<p>Tamb√©m conhecido como dicion√°rio de dados. <a href="#user-content-fnref-3" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-4">
<p>Por exemplo, trocar o SGBD do MSSQL para MySQL. Em tese, √© poss√≠vel realizar essa migra√ß√£o sem alterar a estrutura das tabelas visto que ambos s√£o do tipo SQL. <a href="#user-content-fnref-4" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-5">
<p>Ou seja, estamos ainda na etapa de um projeto conceitual. <a href="#user-content-fnref-5" data-footnote-backref="" aria-label="Back to reference 5" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-6">
<p>Pense no exemplo de um col√©gio infantil. O cadastro <code>responsavel_aluno</code> s√≥ pode existir se o cadastro anterior <code>aluno</code> j√° existir. Agora se for uma institui√ß√£o superior de ensino, que possui alunos maiores de 18 anos, esse campo pode ser opcional apenas para alunos menores de idade. <a href="#user-content-fnref-6" data-footnote-backref="" aria-label="Back to reference 6" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-7">
<p>Por exemplo, se um atleta de futebol √© goleiro, ele n√£o pode ser atacante. <a href="#user-content-fnref-7" data-footnote-backref="" aria-label="Back to reference 7" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-8">
<p>Por exemplo, um funcion√°rio de um banco pode ser, tamb√©m, um cliente do mesmo banco. <a href="#user-content-fnref-8" data-footnote-backref="" aria-label="Back to reference 8" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-9">
<p>Por exemplo, uma tabela <code>pessoa</code> com 2 colunas: <code>nome</code> e <code>idade</code>. √â dita como sendo uma rela√ß√£o de grau 2. <a href="#user-content-fnref-9" data-footnote-backref="" aria-label="Back to reference 9" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-10">
<p>Para explicar melhor esse conceito, podemos pensar em uma tabela que tenha a coluna <code>grau_de_instrucao</code>. Ela s√≥ pode aceitar um valor string dentro da lista [<code>fundamental</code>, <code>medio</code>, <code>superior</code>]. Essa lista de op√ß√µes √© o <strong>dom√≠nio</strong> do atributo <code>grau_de_instrucao</code>. <a href="#user-content-fnref-10" data-footnote-backref="" aria-label="Back to reference 10" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-11">
<p>Atributos compostos no modelo de Chen simplesmente se tornam colunas ignorando o nome do atributo. Por exemplo, se a classe <code>pessoa</code> tem um atributo composto <code>endereco</code> que cont√©m outros atributos como <code>rua</code> e <code>numero</code>. N√≥s vamos colocar as colunas <code>rua</code> e <code>numero</code> como colunas da tabela <code>pessoa</code>. No modelo de James, a gente nem precisa bater cabe√ßa com isso porque a nota√ß√£o dele n√£o permite atributos compostos. <a href="#user-content-fnref-11" data-footnote-backref="" aria-label="Back to reference 11" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-12">
<p>J√° vimos l√° em cima no conte√∫do que atributos multivalorados s√≥ existem no modelo de Chen. No de James n√≥s somos obrigados a converter esse conceito em uma entidade fraca. <a href="#user-content-fnref-12" data-footnote-backref="" aria-label="Back to reference 12" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-14">
<p>Isso n√£o quer dizer que √© uma boa ideia representar um banco de dados como uma tabela √∫nica. Significa apenas que podemos <strong>pensar</strong> num banco de dados como um conjunto de atributos (independente de qual tabela cada atributo est√°). <a href="#user-content-fnref-14" data-footnote-backref="" aria-label="Back to reference 13" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-13">
<p>L√™-se algo como &quot;Y √© dependente funcional de X&quot;. <a href="#user-content-fnref-13" data-footnote-backref="" aria-label="Back to reference 14" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-15">
<p>Que tamb√©m podemos chamar de tabela. <a href="#user-content-fnref-15" data-footnote-backref="" aria-label="Back to reference 15" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-16">
<p>Hoje em dia ta t√£o f√°cil aprender que eu nem precisei fazer a tabela ajustada na m√£o, s√≥ pedi pro chat gpt fazer isso. Mais do que nunca, o que importa agora √© <strong>saber o que deve ser feito</strong> ao inv√©s de perder tempo implementando. <a href="#user-content-fnref-16" data-footnote-backref="" aria-label="Back to reference 16" class="data-footnote-backref">‚Ü©</a></p>
</li>
<li id="user-content-fn-17">
<p>Se voc√™ n√£o entendeu a explica√ß√£o, volte na parte que a gente define chaves e revisa os conceitos. <a href="#user-content-fnref-17" data-footnote-backref="" aria-label="Back to reference 17" class="data-footnote-backref">‚Ü©</a></p>
</li>
</ol>
</section></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="P√°ginas de documenta√ß√£o"><a class="pagination-nav__link pagination-nav__link--prev" href="/CC_site/docs/puc/segundo-periodo/desenvolvimento-web-backend"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Desenvolvimento Web Backend</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/CC_site/docs/puc/segundo-periodo/redes-computadores"><div class="pagination-nav__sublabel">Pr√≥xima</div><div class="pagination-nav__label">Redes de Computadores</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#projeto-de-banco-de-dados" class="table-of-contents__link toc-highlight">Projeto de Banco de Dados</a><ul><li><a href="#fundamentos-de-banco-de-dados" class="table-of-contents__link toc-highlight">Fundamentos de Banco de Dados</a></li><li><a href="#modelagem-de-entidades-e-relacionamentos-mer" class="table-of-contents__link toc-highlight">Modelagem de Entidades e Relacionamentos (MER)</a></li></ul></li><li><a href="#projeto-de-banco-de-dados-relacionais-e-n√£o-relacionais" class="table-of-contents__link toc-highlight">Projeto de Banco de Dados Relacionais e N√£o Relacionais</a><ul><li><a href="#modelo-relacional-de-banco-de-dados" class="table-of-contents__link toc-highlight">Modelo Relacional de Banco de Dados</a></li><li><a href="#mapeamento-do-modelo-de-entidades-e-relacionamentos-para-modelo-relacional" class="table-of-contents__link toc-highlight">Mapeamento do Modelo de Entidades e Relacionamentos para Modelo Relacional</a></li><li><a href="#problemas-de-desenho-em-bancos-relacionais" class="table-of-contents__link toc-highlight">Problemas de Desenho em Bancos Relacionais</a></li><li><a href="#normaliza√ß√£o" class="table-of-contents__link toc-highlight">Normaliza√ß√£o</a></li><li><a href="#banco-de-dados-n√£o-relacionais" class="table-of-contents__link toc-highlight">Banco de Dados N√£o-Relacionais</a></li><li><a href="#seguran√ßa" class="table-of-contents__link toc-highlight">Seguran√ßa</a></li></ul></li><li><a href="#bibliografia" class="table-of-contents__link toc-highlight">Bibliografia</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/CC_site/docs/intro">Mat√©rias</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/bruno_ruas2" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/CC_site/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/brunoruas2" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">2025 MIT License Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>